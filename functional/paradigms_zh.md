# 编程范式

理解函数式编程最大的障碍之一，就是从指令式背景转变思维。指令式程序描述**如何**做，而声明式程序描述做**什么**。接下来我们求和1到10的数字，说明这点。

## 指令式

```rust
let mut sum = 0;
for i in 1..11 {
    sum += i;
}
println!("{}", sum);
```

对于命令式程序，我们必须发挥编译器的作用，看看正在发生什么。这里，我们从将`sum`设为`0`开始。接下来，我们在1到10的范围内进行迭代。循环中的每一次，我们都在该迭代中加上相应的值。然后我们把它打印出来。

`i` | `sum`
:-: | :-:
1 | 1
2 | 3
3 | 6
4 | 10
5 | 15
6 | 21
7 | 28
8 | 36
9 | 45
10 | 55

这就是我们大多数人开始编程的方式。我们了解到，一个程序是一组步骤。

## 声明式

```rust
println!("{}", (1..11).fold(0, |a, b| a + b));
```

哇！这真的很不一样！发生了什么？想想看，对于声明式程序我们要描述做**什么**，而不是**怎么**做。`fold`是用以[组合](https://zh.wikipedia.org/wiki/%E5%A4%8D%E5%90%88%E5%87%BD%E6%95%B0)函数的方法，它的名字来自Haskell惯例。

现在，我们正在组合加法的函数（这个闭包：`|a, b| a + b`），其范围从1到10。`1`是range中第一个元素，所以`a`一开始就是`1`。`b`是range中第二个元素，`2`。`1+ 2 = 1`是结果。所以现在我们`fold`，`a = 1`，`b = 2`，所以`1 + 2 = 3`是下一个结果。这个过程一直持续到我们得到range内的最后一个元素，`10`。

`a` | `b` | 结果
:-: | :-: | :-:
0 | 1 | 1
1 | 2 | 3
3 | 3 | 6
6 | 4 | 10
10 | 5 | 15
15 | 6 | 21
21 | 7 | 28
28 | 8 | 36
36 | 9 | 45
45 | 10 | 55
